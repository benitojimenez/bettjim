:host {
  --primary: #111;
  --text-main: #1f2937;
  --text-muted: #6b7280;
  --border: #e5e7eb;
  --bg-page: #f9fafb;
  --radius: 16px; /* Bordes más redondeados para tarjetas */
}

.payments-container {
  display: flex; flex-direction: column; gap: 30px;
  animation: fadeIn 0.4s ease-out;
}

.page-header {
  h1 { font-size: 1.6rem; font-weight: 800; margin: 0 0 5px 0; color: var(--text-main); }
  p { color: var(--text-muted); margin: 0; font-size: 0.95rem; }
}

/* --- GRID SYSTEM --- */
.cards-grid {
  display: grid;
  /* El ancho de una tarjeta de crédito estándar proporción 85.6mm x 53.98mm (~1.58 aspect ratio) */
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 30px;
}

/* --- 1. BOTÓN AGREGAR --- */
.add-card-btn {
  /* Misma proporción que la tarjeta visual para que encaje en el grid */
  aspect-ratio: 1.586; 
  background: transparent;
  border: 2px dashed #d1d5db;
  border-radius: var(--radius);
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  cursor: pointer; transition: 0.2s; color: var(--text-muted);
  min-height: 190px;

  .icon-circle {
    width: 50px; height: 50px; border-radius: 50%; background: #f3f4f6;
    display: flex; align-items: center; justify-content: center; margin-bottom: 15px;
    transition: 0.2s;
    svg { width: 24px; height: 24px; color: var(--text-main); }
  }

  span { font-weight: 600; font-size: 0.95rem; }

  &:hover {
    border-color: var(--primary); background: #fafafa; color: var(--primary);
    .icon-circle { background: var(--primary); svg { color: white; } }
  }
}

/* --- 2. TARJETA VISUAL (Skeuomorphism) --- */
.credit-card-wrapper {
  display: flex; flex-direction: column; gap: 10px;
}

.visual-card {
  position: relative;
  aspect-ratio: 1.586; /* Proporción Tarjeta Crédito */
  border-radius: var(--radius);
  padding: 25px;
  color: white;
  display: flex; flex-direction: column; justify-content: space-between;
  box-shadow: 0 10px 25px rgba(0,0,0,0.15);
  overflow: hidden;
  transition: transform 0.3s;
  min-height: 190px;

  /* Brillo sutil (Glass effect) */
  &::before {
    content: ''; position: absolute; top: -50%; left: -50%;
    width: 200%; height: 200%;
    background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 60%);
    pointer-events: none;
  }

  &:hover { transform: translateY(-5px); }
  
  /* CHIP & LOGO */
  .card-top {
    display: flex; justify-content: space-between; align-items: flex-start;
    
    .chip {
      width: 45px; height: 35px; background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
      border-radius: 6px; position: relative; overflow: hidden; opacity: 0.9;
      /* Líneas del chip */
      .chip-line { position: absolute; background: #cbd5e1; border: 1px solid #94a3b8; }
      .chip-line:nth-child(1) { top: 50%; width: 100%; height: 1px; }
      .chip-line:nth-child(2) { left: 50%; height: 100%; width: 1px; }
    }

    .card-logo {
      svg { height: 40px; width: auto; }
    }
  }

  /* NUMEROS */
  .card-number {
    font-family: 'Courier New', Courier, monospace; /* Monospace para simular relieve */
    font-size: 1.4rem; letter-spacing: 3px; font-weight: 700;
    text-shadow: 0 2px 2px rgba(0,0,0,0.3);
    display: flex; gap: 15px; margin-top: 10px;
  }

  /* INFO INFERIOR */
  .card-bottom {
    display: flex; justify-content: space-between; align-items: flex-end;
    
    .info-group {
      display: flex; flex-direction: column; gap: 2px;
      .label { font-size: 0.65rem; text-transform: uppercase; opacity: 0.8; letter-spacing: 1px; }
      .value { font-family: 'Courier New', monospace; font-size: 0.9rem; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; text-shadow: 0 1px 1px rgba(0,0,0,0.3); }
      &.right { text-align: right; }
    }
  }

  /* BADGE DEFAULT */
  .default-badge-in {
    position: absolute; top: 15px; left: 50%; transform: translateX(-50%);
    background: rgba(255,255,255,0.2); backdrop-filter: blur(4px);
    padding: 4px 10px; border-radius: 12px;
    font-size: 0.7rem; font-weight: 700; text-transform: uppercase; letter-spacing: 1px;
    border: 1px solid rgba(255,255,255,0.3);
  }
}

/* --- ACCIONES --- */
.card-actions {
  display: flex; justify-content: center; align-items: center; gap: 10px;
  padding-top: 5px;

  .btn-text {
    background: none; border: none; font-size: 0.85rem; cursor: pointer;
    color: var(--text-muted); font-weight: 500; transition: 0.2s;
    &:hover { color: var(--primary); text-decoration: underline; }
    
    &.delete { color: #ef4444; &:hover { color: #b91c1c; } }
  }

  .divider-vertical { width: 1px; height: 12px; background: #e5e7eb; }
}

/* --- FOOTER --- */
.security-note {
  display: flex; align-items: center; justify-content: center; gap: 10px;
  background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 8px;
  padding: 15px; text-align: center; margin-top: 10px;

  svg { width: 20px; color: #166534; }
  p { margin: 0; font-size: 0.85rem; color: #166534; }
}

/* RESPONSIVE */
@media (max-width: 600px) {
  .cards-grid { grid-template-columns: 1fr; } /* Una sola columna en móvil */
  
  .visual-card {
    .card-number { font-size: 1.2rem; letter-spacing: 2px; } /* Ajuste tamaño fuente */
  }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}