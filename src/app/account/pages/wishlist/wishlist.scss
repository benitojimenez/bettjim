:host {
  --primary: #111;
  --text-main: #1f2937;
  --text-muted: #6b7280;
  --border: #e5e7eb;
  --bg-page: #f9fafb;
  --radius: 12px;
  --sale-color: #ef4444;
}

.wishlist-container {
  display: flex; flex-direction: column; gap: 30px;
  animation: fadeIn 0.4s ease-out;
}

/* --- HEADER --- */
.page-header {
  display: flex; justify-content: space-between; align-items: flex-end;
  flex-wrap: wrap; gap: 15px; border-bottom: 1px solid var(--border); padding-bottom: 20px;

  .header-text {
    h1 { font-size: 1.6rem; font-weight: 800; margin: 0 0 5px 0; color: var(--text-main); }
    p { color: var(--text-muted); margin: 0; font-size: 0.95rem; }
  }

  .count-badge {
    background: #f3f4f6; color: var(--text-main); font-weight: 600; font-size: 0.85rem;
    padding: 6px 12px; border-radius: 20px;
  }
}

/* --- GRID PRODUCTOS --- */
.products-grid {
  display: grid;
  /* Grid adaptable: Columnas de mínimo 240px */
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  gap: 25px;
}

/* --- TARJETA DE PRODUCTO --- */
.product-card {
  background: white; border: 1px solid var(--border); border-radius: var(--radius);
  overflow: hidden; transition: 0.3s; position: relative;
  display: flex; flex-direction: column;

  &:hover {
    box-shadow: 0 10px 20px rgba(0,0,0,0.08); border-color: #d1d5db;
    transform: translateY(-4px);
    
    /* Efecto en imagen al hover */
    .card-image img { transform: scale(1.05); }
  }
}

/* 1. Imagen */
.card-image {
  position: relative; width: 100%; padding-top: 125%; /* Aspect Ratio 4:5 (Vertical Moda) */
  overflow: hidden; background: #f3f4f6;

  img {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;
    transition: transform 0.5s ease;
  }
  
  .img-link { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }

  /* Botón Eliminar (Flotante) */
  .btn-remove {
    position: absolute; top: 10px; right: 10px; z-index: 2;
    width: 32px; height: 32px; border-radius: 50%;
    background: white; border: none; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1); transition: 0.2s;
    color: var(--text-muted);
    
    &:hover { background: #fee2e2; color: #ef4444; transform: scale(1.1); }
    svg { width: 16px; }
  }

  /* Badges */
  .badges {
    position: absolute; top: 10px; left: 10px; z-index: 2; display: flex; flex-direction: column; gap: 5px;
    
    .badge {
      font-size: 0.7rem; font-weight: 700; text-transform: uppercase;
      padding: 4px 8px; border-radius: 4px; color: white;
      &.sale { background: var(--sale-color); }
      &.low-stock { background: #f59e0b; color: black; }
    }
  }
}

/* 2. Información */
.card-info {
  padding: 15px; flex: 1;
  
  .category { font-size: 0.75rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px; }
  
  .product-title {
    margin: 4px 0 8px 0; font-size: 1rem; font-weight: 600; line-height: 1.3;
    a { text-decoration: none; color: var(--text-main); transition: 0.2s; &:hover { color: var(--primary); } }
  }

  .price-box {
    display: flex; align-items: center; gap: 8px;
    .current-price { font-weight: 800; font-size: 1.1rem; color: var(--primary); }
    .old-price { font-size: 0.9rem; text-decoration: line-through; color: var(--text-muted); }
  }
}

/* 3. Acciones */
.card-actions {
  padding: 0 15px 15px 15px;
  
  .btn-cart {
    width: 100%; padding: 10px; border-radius: 8px; border: none;
    background: var(--primary); color: white; font-weight: 600; cursor: pointer;
    display: flex; align-items: center; justify-content: center; gap: 8px;
    transition: 0.2s;
    svg { width: 18px; }

    &:hover:not(.disabled) { background: #333; }
    
    &.disabled {
      background: #e5e7eb; color: #9ca3af; cursor: not-allowed;
    }
  }
}

/* EMPTY STATE */
.empty-state {
  grid-column: 1 / -1; /* Ocupa todo el ancho */
  text-align: center; padding: 60px 20px;
  border: 2px dashed #e5e7eb; border-radius: var(--radius);
  background: white;

  .icon-heart-broken {
    width: 60px; height: 60px; background: #f3f4f6; border-radius: 50%; margin: 0 auto 15px;
    display: flex; align-items: center; justify-content: center; color: #9ca3af;
    svg { width: 30px; }
  }

  h3 { margin: 0 0 10px 0; color: var(--text-main); }
  p { margin: 0 0 20px 0; color: var(--text-muted); }

  .btn-shop {
    display: inline-block; padding: 10px 25px; background: var(--primary); color: white;
    text-decoration: none; font-weight: 700; border-radius: 6px; transition: 0.2s;
    &:hover { background: #333; transform: translateY(-2px); }
  }
}

/* RESPONSIVE */
@media (max-width: 600px) {
  .products-grid {
    grid-template-columns: repeat(2, 1fr); /* 2 columnas en móvil */
    gap: 15px;
  }
  
  .card-info { padding: 10px; }
  .card-actions { padding: 0 10px 10px 10px; }
  
  .btn-cart { font-size: 0.85rem; padding: 8px; }
}

/* Ajustes para pantallas muy pequeñas */
@media (max-width: 380px) {
  .products-grid {
    grid-template-columns: 1fr; /* 1 columna si es muy angosto */
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
