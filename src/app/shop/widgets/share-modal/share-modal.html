<div class="modal-backdrop" (click)="closeModal()">
  
  <div class="modal-card" (click)="stopPropagation($event)">
    
    <header class="modal-header">
      <h3>Compartir producto</h3>
      <button class="close-btn" (click)="closeModal()">
        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
      </button>
    </header>

    <div class="social-grid">
      
      <button class="social-btn whatsapp" (click)="shareTo('whatsapp')">
        <div class="icon-box">
          <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
        </div>
        <span>WhatsApp</span>
      </button>

      <button class="social-btn facebook" (click)="shareTo('facebook')">
        <div class="icon-box">
          <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
        </div>
        <span>Facebook</span>
      </button>

      <button class="social-btn twitter" (click)="shareTo('twitter')">
        <div class="icon-box">
          <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4l11.733 16h4.267l-11.733 -16z" /><path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772" /></svg>
        </div>
        <span>X (Twitter)</span>
      </button>

      <button class="social-btn linkedin" (click)="shareTo('linkedin')">
        <div class="icon-box">
            <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
        </div>
        <span>LinkedIn</span>
      </button>

    </div>

    <div class="copy-section">
      <label>O copia el enlace</label>
      <div class="input-wrapper" [class.copied]="isCopied()">
        
        <div class="link-text">{{ domain+productUrl }}</div>
        
        <button (click)="copyLink()">
            @if (isCopied()) {
              <span class="success-msg">
                <svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="3" fill="none"><polyline points="20 6 9 17 4 12"></polyline></svg>
                Copiado
              </span>
            } @else {
              <span>Copiar</span>
            }
        </button>

      </div>
    </div>

  </div>
</div>