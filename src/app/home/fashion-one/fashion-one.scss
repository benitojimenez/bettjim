/* --- VARIABLES --- */
$bg-primary: #FDFBF7; /* Un crema muy suave, más elegante que el blanco puro */
$text-dark: #111;
$primary-accent: #9c2c0d; /* Terracota (muy beauty) en vez de rojo chillón */
$font-serif: 'Playfair Display', serif;
$font-sans: 'Inter', sans-serif;

:host {
  display: block;
  background-color: $bg-primary;
  color: $text-dark;
  font-family: $font-sans;
}

/* --- 1. HERO EDITORIAL --- */
.hero-editorial {
  height: 95vh; /* Casi pantalla completa */
  position: relative;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;

  .hero-bg {
    position: absolute; inset: 0; z-index: 0;
    img { width: 100%; height: 100%; object-fit: cover; }
    .overlay-gradient {
      position: absolute; inset: 0;
      background: linear-gradient(to top, rgba(0,0,0,0.4), transparent);
    }
  }

  .hero-content {
    z-index: 2; color: white;
    h1 {
      font-family: $font-serif;
      font-size: clamp(3rem, 8vw, 6rem); /* Responsive fluido */
      line-height: 0.9;
      letter-spacing: -2px;
      margin-bottom: 20px;
      i { font-weight: 400; font-family: $font-serif; }
    }
    p { font-size: 1.2rem; margin-bottom: 30px; font-weight: 300; }
  }

  /* Botones Glassmorphism */
  .btn-glass {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    color: white;
    padding: 15px 35px;
    border-radius: 50px; /* Pill shape */
    margin: 0 10px;
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.8rem;
    letter-spacing: 1px;
    transition: all 0.3s;
    cursor: pointer;

    &:hover { background: white; color: black; }
    &.dark { background: rgba(0,0,0,0.3); &:hover { background: black; color: white;} }
  }
  
  .scroll-down {
    position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%);
    color: white; font-size: 0.8rem; display: flex; flex-direction: column; align-items: center; gap: 10px; opacity: 0.8;
    .line { width: 1px; height: 40px; background: white; animation: scrollAnim 2s infinite; }
  }
}

/* --- 2. MARQUEE --- */
.marquee-strip {
  background: $primary-accent; color: white; padding: 12px 0; overflow: hidden;
  .track {
    display: flex; white-space: nowrap; animation: slideInfinite 20s linear infinite;
    span { margin-right: 50px; font-weight: 700; font-size: 0.9rem; letter-spacing: 2px; }
  }
}

/* --- 3. CATEGORIAS (Stories Style) --- */
.categories-stories {
  padding: 80px 5%;
  .header-flex { display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 40px; }
  
  h2 { font-family: $font-serif; font-size: 2.5rem; margin: 0; }

  .stories-wrapper {
    display: flex; gap: 20px; overflow-x: auto; padding-bottom: 20px;
    /* Hide scrollbar */
    &::-webkit-scrollbar { display: none; }
    
    .story-card {
      min-width: 140px; cursor: pointer; text-align: center;
      .img-frame {
        width: 140px; height: 200px; /* Formato vertical tipo historia */
        border-radius: 100px; /* Ovalo alargado */
        overflow: hidden; margin-bottom: 15px; position: relative;
        img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s; }
        
        /* Borde animado al hover */
        &::after {
          content: ''; position: absolute; inset: 0; border-radius: 100px;
          border: 2px solid transparent; transition: border-color 0.3s;
        }
      }
      
      .cat-name { font-weight: 600; font-size: 0.9rem; letter-spacing: 0.5px; }

      &:hover {
        .img-frame img { transform: scale(1.1); }
        .img-frame::after { border-color: $primary-accent; }
      }
    }
  }
}

/* --- 4. PRODUCT CARD PRO (La Joya) --- */
.featured-products {
  display: grid;
  grid-template-columns: 250px 1fr; /* Sidebar título + Grid productos */
  gap: 40px; padding: 60px 5%;
  
  .sticky-title {
    position: sticky; top: 100px; height: fit-content;
    h2 { font-family: $font-serif; font-size: 3.5rem; line-height: 1; margin-bottom: 20px; }
    p { color: #666; max-width: 200px; }
  }

  .products-grid {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 30px;
  }
}

/* TARJETA INTERACTIVA */
.product-card-pro {
  position: relative;
  
  .card-media {
    position: relative; height: 320px; background: #F0F0F0; overflow: hidden; border-radius: 8px; margin-bottom: 15px; cursor: pointer;
    
    img { width: 100%; height: 100%; object-fit: cover; transition: opacity 0.4s ease; }
    .img-back { position: absolute; top: 0; left: 0; opacity: 0; }
    
    .badge-new { position: absolute; top: 10px; left: 10px; background: white; padding: 4px 8px; font-size: 0.7rem; font-weight: bold; }
    .btn-wishlist { position: absolute; top: 10px; right: 10px; background: transparent; border: none; font-size: 1.2rem; cursor: pointer; opacity: 0; transform: translateX(10px); transition: all 0.3s; }

    .btn-quick-add {
      position: absolute; bottom: 0; width: 100%; background: $text-dark; color: white;
      border: none; padding: 12px; font-weight: 600; transform: translateY(100%); transition: transform 0.3s; cursor: pointer;
    }

    /* HOVER EFFECT */
    &:hover {
      .img-front { opacity: 0; }
      .img-back { opacity: 1; }
      .btn-wishlist { opacity: 1; transform: translateX(0); }
      .btn-quick-add { transform: translateY(0); }
    }
  }

  .card-info {
    h3 { margin: 5px 0; font-size: 1rem; font-weight: 500; }
    .price { font-weight: 700; color: $text-dark; }
    .rating-stars { color: #FFB400; font-size: 0.8rem; margin-bottom: 5px; }
    
    .color-swatches {
      display: flex; gap: 5px; margin-top: 10px;
      .swatch {
        width: 12px; height: 12px; border-radius: 50%; border: 1px solid #ddd; cursor: pointer;
        &:hover { border-color: black; transform: scale(1.2); }
      }
    }
  }
}

/* --- 5. VIDEO BREAK --- */
.video-break {
  height: 60vh; position: relative; overflow: hidden; margin-top: 80px;
  video { width: 100%; height: 100%; object-fit: cover; }
  .video-overlay {
    position: absolute; inset: 0; background: rgba(0,0,0,0.3);
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    color: white; text-align: center;
    h2 { font-family: $font-serif; font-size: 4rem; margin-bottom: 20px; }
    .btn-white { background: white; color: black; border: none; padding: 15px 40px; font-weight: bold; cursor: pointer; transition: transform 0.3s; &:hover{ transform: scale(1.05); } }
  }
}

/* ANIMACIONES */
@keyframes slideInfinite { to { transform: translateX(-50%); } }
@keyframes scrollAnim { 0% { height: 40px; transform: translateY(0); opacity: 1; } 100% { height: 0; transform: translateY(40px); opacity: 0; } }

/* RESPONSIVE */
@media (max-width: 900px) {
  .featured-products { grid-template-columns: 1fr; }
  .sticky-title { position: relative; top: 0; margin-bottom: 30px; text-align: center; }
  .hero-editorial h1 { font-size: 3rem; }
}
